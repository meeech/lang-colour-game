(this["webpackJsonplanguage-colour-game"]=this["webpackJsonplanguage-colour-game"]||[]).push([[0],{19:function(e,t,o){e.exports=o(20)},20:function(e,t,o){"use strict";o.r(t);var r=o(10),c=o.n(r),n=o(15),a=o(18),l=o(7),u=o(0),s=o.n(u),d=o(16),i=o.n(d),m=o(4),f=(o(27),o(17)),g=o.n(f),p={name:null,colour:null},v="INIT",E="GUESS",b="".concat("/lang-colour-game","/languages.yml"),h=function(e,t){if(console.log("gameStateReducer",e,t),v===t.type){var o=t.payload,r=Object(m.shuffle)(o).slice(0,3),c=r[Object(m.random)(2)];return Object(l.a)(Object(l.a)({},e),{},{colours:o,nextRound:r,toGuess:c})}if(E===t.type){var n=e.colours,a=t.payload.name===e.toGuess.name,u=Object(m.shuffle)(n).slice(0,3),s=u[Object(m.random)(2)],d=function(e,t){var o=t?e.correct+1:0;return{correct:o,round:e.round+1,streak:e.streak>o?e.streak:o}}(e.scorecard,a);return Object(l.a)(Object(l.a)({},e),{},{nextRound:u,toGuess:s,scorecard:d})}throw new Error("Did not handle action ".concat(t.type))},y=function(e){var t=e.colours,o=e.setPlayerGuess;console.log("ColourList...");var r=t.map((function(e){return s.a.createElement(j,{key:e.name,onClick:function(){!function(e){console.log("%c ".concat(e.name," ").concat(e.colour,"                            "),"color: #000;font-weight:bold; background-color:".concat(e.colour))}(e),o(e)},name:e.name,colour:e.colour})}));return s.a.createElement(s.a.Fragment,null,r)},k=function(e){var t=e.toGuess,o=e.scorecard;return s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"to-guess"},t.name),s.a.createElement("div",{className:"scorecard"},s.a.createElement("div",null,"round: ",o.round),s.a.createElement("div",null,"correct: ",o.correct),s.a.createElement("div",null,"streak: ",o.streak)))},j=function(e){var t=e.colour,o=e.onClick;return s.a.createElement("div",{className:"swatch",style:{backgroundColor:t},onClick:o})},G=function(e){var t=Object(u.useReducer)(h,{colours:[],nextRound:[],playerGuess:p,toGuess:p,scorecard:{correct:0,round:1,streak:0}}),o=Object(a.a)(t,2),r=o[0],l=o[1];Object(u.useEffect)((function(){function e(){return(e=Object(n.a)(c.a.mark((function e(){var t,o,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b);case 2:return(t=e.sent).ok||console.error(t),e.t0=g.a,e.next=7,t.text();case 7:e.t1=e.sent,o=e.t0.safeLoad.call(e.t0,e.t1),r=Object(m.reduce)(o,(function(e,t,o){return t.color&&e.push({name:o,colour:t.color}),e}),[]),l({type:v,payload:r});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("Game: colour fetch useEffect triggered"),r.colours.length>0?console.log("Effect called, but we already have our colours: ".concat(r.colours.length)):function(){e.apply(this,arguments)}()}),[r.colours]);return console.log("Game:return/render",r),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement(k,{toGuess:r.toGuess,scorecard:r.scorecard})),s.a.createElement("div",{className:"container"},s.a.createElement(y,{colours:r.nextRound,setPlayerGuess:function(e){l({type:E,payload:e})}})))};i.a.render(s.a.createElement(G,null),document.getElementById("root"))},27:function(e,t,o){}},[[19,1,2]]]);
//# sourceMappingURL=main.97f218ee.chunk.js.map